{"ast":null,"code":"var _jsxFileName = \"d:\\\\ksp_devops\\\\ksp_user_devops\\\\frontend\\\\src\\\\components\\\\CartPage.js\",\n  _s = $RefreshSig$();\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { Link } from \"react-router-dom\"; // Add this import\nimport { FaTrash, FaMinus, FaPlus, FaShoppingCart, FaSpinner, FaTruck, FaBoxOpen, FaCreditCard, FaCheckCircle, FaArrowLeft, FaMoneyBillWave, FaDownload, FaTimes // Added missing FaTimes icon\n} from \"react-icons/fa\";\nimport { useState, useEffect } from \"react\";\n// Removing axios since it's not used in this component directly\nimport Payment from \"./Payment\"; // Import the new Payment component\nimport { jsPDF } from \"jspdf\";\nimport \"jspdf-autotable\"; // Add this import for table support in PDF\nimport { FileText } from \"lucide-react\"; // or use another file icon\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CartPage = ({\n  cart,\n  updateQuantity,\n  removeFromCart,\n  isLoading,\n  user\n}) => {\n  _s();\n  const [step, setStep] = useState(\"cart\");\n  // Updated shippingInfo to remove the email field\n  const [shippingInfo, setShippingInfo] = useState({\n    fullName: \"\",\n    addressLine1: \"\",\n    city: \"\",\n    postalCode: \"\",\n    phone: \"\" // Add phone field\n  });\n  const totalPrice = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);\n  const steps = [\"cart\", \"shipping\", \"delivery\", \"payment\", \"confirmation\"];\n  const currentStepIndex = steps.indexOf(step);\n  const [savedOrder, setSavedOrder] = useState(null);\n  // Using setOrderProcessingError in new handleSuccessfulPayment function\n  const [orderProcessingError, setOrderProcessingError] = useState(\"\");\n  const [showConfetti, setShowConfetti] = useState(false);\n  const [progressAnimation, setProgressAnimation] = useState(0);\n  const [deliveryMethod, setDeliveryMethod] = useState(\"standard\");\n  const [showOrderSummary, setShowOrderSummary] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n  const [orderReference, setOrderReference] = useState(\"\");\n  const [paymentMethod, setPaymentMethod] = useState(\"razorpay\"); // Add missing state\n  const [isGeneratingPdf, setIsGeneratingPdf] = useState(false);\n\n  // Handle Back Button Click\n  const handleBackClick = () => {\n    const previousStepIndex = Math.max(currentStepIndex - 1, 0);\n    setStep(steps[previousStepIndex]);\n  };\n\n  // Update progress animation\n  useEffect(() => {\n    const progress = (currentStepIndex + 1) / steps.length * 100;\n    setProgressAnimation(progress);\n  }, [currentStepIndex, steps.length]);\n\n  // Check if mobile\n  useEffect(() => {\n    const checkIfMobile = () => setIsMobile(window.innerWidth < 768);\n    checkIfMobile();\n    window.addEventListener(\"resize\", checkIfMobile);\n    return () => window.removeEventListener(\"resize\", checkIfMobile);\n  }, []);\n\n  // Generate order reference\n  useEffect(() => {\n    if (step === \"confirmation\" && !orderReference) {\n      setOrderReference(`ORD-${Math.floor(Math.random() * 1000000)}`);\n      setShowConfetti(true);\n      const timer = setTimeout(() => setShowConfetti(false), 4000);\n      return () => clearTimeout(timer);\n    }\n  }, [step, orderReference]);\n\n  // Handle successful payment - Modified to use setOrderProcessingError\n  const handleSuccessfulPayment = (order, method) => {\n    setSavedOrder(order);\n    setPaymentMethod(method); // Store the payment method\n    if (!order) {\n      setOrderProcessingError(\"Order was processed but could not be saved. Please contact support with your reference number.\");\n    }\n    setStep(\"confirmation\");\n  };\n\n  // Animation variants - removing unused ones and keeping the ones we need\n  const spinnerVariants = {\n    spin: {\n      rotate: 360,\n      transition: {\n        repeat: Infinity,\n        duration: 1\n      }\n    }\n  };\n  const emptyCartVariants = {\n    hidden: {\n      opacity: 0,\n      scale: 0.8\n    },\n    visible: {\n      opacity: 1,\n      scale: 1,\n      transition: {\n        duration: 0.5\n      }\n    }\n  };\n  const checkoutButtonVariants = {\n    hover: {\n      scale: 1.05,\n      boxShadow: \"0px 4px 10px rgba(0, 0, 0, 0.2)\"\n    },\n    tap: {\n      scale: 0.95\n    }\n  };\n  const pageTransition = {\n    initial: {\n      opacity: 0,\n      y: 20\n    },\n    animate: {\n      opacity: 1,\n      y: 0\n    },\n    exit: {\n      opacity: 0,\n      y: -20\n    },\n    transition: {\n      duration: 0.5\n    }\n  };\n  const floatingAnimation = {\n    animate: {\n      y: [0, -10, 0],\n      transition: {\n        duration: 3,\n        repeat: Infinity,\n        ease: \"easeInOut\",\n        times: [0, 0.5, 1]\n      }\n    }\n  };\n  const staggerContainer = {\n    animate: {\n      transition: {\n        staggerChildren: 0.07\n      }\n    }\n  };\n  const fadeInScale = {\n    initial: {\n      opacity: 0,\n      scale: 0.9,\n      y: 20\n    },\n    animate: {\n      opacity: 1,\n      scale: 1,\n      y: 0,\n      transition: {\n        type: \"spring\",\n        stiffness: 100,\n        damping: 10\n      }\n    }\n  };\n\n  // Define confetti animation that was missing but used in renderConfetti\n  const confettiAnimation = {\n    initial: {\n      opacity: 0,\n      scale: 0\n    },\n    animate: {\n      opacity: [0, 1, 1, 0],\n      scale: [0.5, 1.2, 1],\n      y: [0, -100, -50, 0],\n      rotate: [0, 180, 360],\n      transition: {\n        duration: 2,\n        ease: \"easeOut\"\n      }\n    }\n  };\n  const cartItemVariants = {\n    initial: {\n      opacity: 0,\n      x: -50\n    },\n    animate: {\n      opacity: 1,\n      x: 0,\n      transition: {\n        type: \"spring\",\n        stiffness: 100\n      }\n    },\n    exit: {\n      opacity: 0,\n      x: 50,\n      transition: {\n        duration: 0.3\n      }\n    },\n    hover: {\n      scale: 1.02,\n      boxShadow: \"0px 3px 10px rgba(0,0,0,0.1)\",\n      backgroundColor: \"rgba(249, 250, 251, 1)\"\n    }\n  };\n  const buttonTapVariants = {\n    tap: {\n      scale: 0.95\n    }\n  };\n  const quantityButtonVariants = {\n    hover: {\n      backgroundColor: \"#dbeafe\",\n      scale: 1.05\n    },\n    tap: {\n      scale: 0.9\n    }\n  };\n  const formInputVariants = {\n    focus: {\n      scale: 1.01,\n      boxShadow: \"0px 0px 8px rgba(59, 130, 246, 0.5)\",\n      borderColor: \"#3b82f6\"\n    }\n  };\n  const radioButtonVariants = {\n    checked: {\n      scale: 1.1\n    },\n    unchecked: {\n      scale: 1\n    }\n  };\n  const stepIndicatorVariant = {\n    inactive: {\n      scale: 1,\n      opacity: 0.7\n    },\n    active: {\n      scale: 1.1,\n      opacity: 1,\n      boxShadow: \"0px 0px 8px rgba(37, 99, 235, 0.5)\"\n    },\n    completed: {\n      scale: 1,\n      opacity: 1,\n      backgroundColor: \"#2563eb\",\n      color: \"white\"\n    }\n  };\n  const progressBarVariant = {\n    initial: {\n      width: \"0%\"\n    },\n    animate: {\n      width: `${progressAnimation}%`,\n      transition: {\n        duration: 0.8,\n        ease: \"easeOut\"\n      }\n    }\n  };\n\n  // Updated handleShippingInfoSubmit - no need to validate email since we use the user's email\n  const handleShippingInfoSubmit = e => {\n    e.preventDefault();\n    const {\n      fullName,\n      addressLine1,\n      city,\n      postalCode,\n      phone\n    } = shippingInfo;\n\n    // Basic validation for required fields\n    if (!fullName || !addressLine1 || !city || !postalCode || !phone) {\n      alert(\"Please fill in all fields.\");\n      return;\n    }\n\n    // If user is not signed in, they can't proceed (we need their email)\n    if (!user || !user.email) {\n      alert(\"Please sign in to continue with checkout.\");\n      return;\n    }\n    setStep(\"delivery\");\n  };\n  const handleDeliverySelection = () => setStep(\"payment\");\n\n  // Render functions\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"text-center mt-20\",\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      exit: {\n        opacity: 0\n      },\n      children: [/*#__PURE__*/_jsxDEV(motion.div, {\n        animate: spinnerVariants.spin,\n        className: \"text-6xl mx-auto text-blue-500 mb-4\",\n        children: /*#__PURE__*/_jsxDEV(FaSpinner, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(motion.h2, {\n        animate: {\n          opacity: [0.5, 1, 0.5]\n        },\n        transition: {\n          duration: 2,\n          repeat: Infinity\n        },\n        className: \"text-2xl font-semibold mb-4\",\n        children: \"Loading your cart...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(motion.p, {\n        initial: {\n          opacity: 0\n        },\n        animate: {\n          opacity: 1\n        },\n        transition: {\n          delay: 1\n        },\n        className: \"text-gray-500\",\n        children: \"Just a moment while we prepare your items\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Modify the empty cart section with a Link \n  if (cart.length === 0) {\n    return /*#__PURE__*/_jsxDEV(motion.div, {\n      variants: emptyCartVariants,\n      initial: \"hidden\",\n      animate: \"visible\",\n      className: \"container mx-auto px-4 py-20 min-h-[60vh] flex flex-col items-center justify-center\",\n      children: [/*#__PURE__*/_jsxDEV(motion.div, {\n        variants: floatingAnimation,\n        animate: \"animate\",\n        className: \"mb-6 p-6 bg-blue-50 rounded-full\",\n        children: /*#__PURE__*/_jsxDEV(FaShoppingCart, {\n          className: \"text-6xl text-blue-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-semibold mb-4\",\n        children: \"Your cart is empty\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mb-6 text-center max-w-md\",\n        children: \"Looks like you haven't added anything to your cart yet. Browse our products and find something you'll love!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/products\",\n        children: /*#__PURE__*/_jsxDEV(motion.button, {\n          whileHover: {\n            scale: 1.05\n          },\n          whileTap: {\n            scale: 0.95\n          },\n          className: \"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(FaArrowLeft, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Continue Shopping\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Modify the cart items section with a Link\n  const renderCartItems = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `${isMobile ? \"overflow-x-auto\" : \"\"}`,\n    children: [/*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"w-full min-w-[768px]\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"border-b\",\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"text-left py-2\",\n            children: \"Product\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"text-left py-2\",\n            children: \"Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"text-left py-2\",\n            children: \"Tax\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"text-left py-2\",\n            children: \"Quantity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"text-left py-2\",\n            children: \"Total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"text-left py-2\",\n            children: \"Remove\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: /*#__PURE__*/_jsxDEV(AnimatePresence, {\n          children: cart.map((item, index) => /*#__PURE__*/_jsxDEV(motion.tr, {\n            layout: true,\n            variants: cartItemVariants,\n            initial: \"initial\",\n            animate: \"animate\",\n            exit: \"exit\",\n            whileHover: \"hover\",\n            className: \"border-b\",\n            transition: {\n              delay: index * 0.05\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"py-4 flex items-center space-x-4\",\n              children: [/*#__PURE__*/_jsxDEV(motion.div, {\n                whileHover: {\n                  scale: 1.1,\n                  rotate: 5\n                },\n                className: \"overflow-hidden rounded-lg\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: item.image || \"/placeholder.svg\",\n                  alt: item.name,\n                  className: \"w-20 h-20 object-cover\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xl font-semibold\",\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"py-4\",\n              children: [\"\\u20B9\", item.price.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"py-4\",\n              children: \"\\u20B90.00\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"py-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(motion.button, {\n                  variants: quantityButtonVariants,\n                  whileHover: \"hover\",\n                  whileTap: \"tap\",\n                  onClick: () => updateQuantity(item.id, Math.max(1, item.quantity - 1)),\n                  className: \"bg-gray-200 p-2 rounded-full transition-colors duration-200\",\n                  children: /*#__PURE__*/_jsxDEV(FaMinus, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 289,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(motion.span, {\n                  initial: {\n                    scale: 1.5,\n                    opacity: 0\n                  },\n                  animate: {\n                    scale: 1,\n                    opacity: 1\n                  },\n                  className: \"text-xl font-semibold w-8 text-center\",\n                  children: item.quantity\n                }, item.quantity, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n                  variants: quantityButtonVariants,\n                  whileHover: \"hover\",\n                  whileTap: \"tap\",\n                  onClick: () => updateQuantity(item.id, item.quantity + 1),\n                  className: \"bg-gray-200 p-2 rounded-full transition-colors duration-200\",\n                  children: /*#__PURE__*/_jsxDEV(FaPlus, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 306,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"py-4 font-semibold\",\n              children: [\"\\u20B9\", (item.price * item.quantity).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"py-4\",\n              children: /*#__PURE__*/_jsxDEV(motion.button, {\n                whileHover: {\n                  scale: 1.2,\n                  color: \"#ef4444\"\n                },\n                whileTap: {\n                  scale: 0.9\n                },\n                onClick: () => removeFromCart(item.id),\n                className: \"text-red-500 hover:text-red-600 transition-colors duration-200\",\n                children: /*#__PURE__*/_jsxDEV(FaTrash, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 17\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        opacity: 0,\n        y: 20\n      },\n      animate: {\n        opacity: 1,\n        y: 0\n      },\n      transition: {\n        delay: 0.3,\n        duration: 0.5\n      },\n      className: \"mt-8 flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/products\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-gray-200 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-300 transition-colors duration-200\",\n          children: \"\\u2190 Return to shop\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-right\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xl font-semibold\",\n          children: [\"Subtotal: \\u20B9\", totalPrice.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n          variants: checkoutButtonVariants,\n          whileHover: \"hover\",\n          whileTap: \"tap\",\n          onClick: () => setStep(\"shipping\"),\n          className: \"w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200 text-lg font-semibold mt-4\",\n          children: \"Continue to Shipping\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 246,\n    columnNumber: 5\n  }, this);\n  const renderShippingForm = () => /*#__PURE__*/_jsxDEV(motion.div, {\n    variants: fadeInScale,\n    initial: \"initial\",\n    animate: \"animate\",\n    exit: \"exit\",\n    className: \"bg-white p-6 rounded-lg shadow-md\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mb-6 flex items-center space-x-2\",\n      children: [/*#__PURE__*/_jsxDEV(FaTruck, {\n        className: \"text-blue-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Shipping Address\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 47\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 7\n    }, this), user && user.email && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 p-3 bg-blue-50 rounded-lg flex items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-blue-700 mr-3\",\n        children: /*#__PURE__*/_jsxDEV(FaCheckCircle, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-700\",\n          children: \"Shipping to account email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-medium\",\n          children: user.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 9\n    }, this), (!user || !user.email) && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 p-3 bg-red-50 rounded-lg flex items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-red-700 mr-3\",\n        children: /*#__PURE__*/_jsxDEV(FaTimes, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm font-medium text-red-700\",\n          children: \"You must be signed in to checkout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-red-600\",\n          children: \"Please sign in to continue with your purchase\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleShippingInfoSubmit,\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700 mb-1\",\n          children: \"Full Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(motion.input, {\n          variants: formInputVariants,\n          whileFocus: \"focus\",\n          type: \"text\",\n          placeholder: \"John Doe\",\n          value: shippingInfo.fullName,\n          onChange: e => setShippingInfo({\n            ...shippingInfo,\n            fullName: e.target.value\n          }),\n          className: \"w-full p-3 border rounded-md focus:outline-none transition-all duration-200\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700 mb-1\",\n          children: \"Phone Number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(motion.input, {\n          variants: formInputVariants,\n          whileFocus: \"focus\",\n          type: \"tel\",\n          placeholder: \"9876543210\",\n          value: shippingInfo.phone,\n          onChange: e => setShippingInfo({\n            ...shippingInfo,\n            phone: e.target.value\n          }),\n          className: \"w-full p-3 border rounded-md focus:outline-none transition-all duration-200\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700 mb-1\",\n          children: \"Address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(motion.input, {\n          variants: formInputVariants,\n          whileFocus: \"focus\",\n          type: \"text\",\n          placeholder: \"123 Main St\",\n          value: shippingInfo.addressLine1,\n          onChange: e => setShippingInfo({\n            ...shippingInfo,\n            addressLine1: e.target.value\n          }),\n          className: \"w-full p-3 border rounded-md focus:outline-none transition-all duration-200\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"City\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(motion.input, {\n            variants: formInputVariants,\n            whileFocus: \"focus\",\n            type: \"text\",\n            placeholder: \"Mumbai\",\n            value: shippingInfo.city,\n            onChange: e => setShippingInfo({\n              ...shippingInfo,\n              city: e.target.value\n            }),\n            className: \"w-full p-3 border rounded-md focus:outline-none transition-all duration-200\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Postal Code\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(motion.input, {\n            variants: formInputVariants,\n            whileFocus: \"focus\",\n            type: \"text\",\n            placeholder: \"400001\",\n            value: shippingInfo.postalCode,\n            onChange: e => setShippingInfo({\n              ...shippingInfo,\n              postalCode: e.target.value\n            }),\n            className: \"w-full p-3 border rounded-md focus:outline-none transition-all duration-200\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 9\n      }, this), isMobile && /*#__PURE__*/_jsxDEV(motion.div, {\n        className: \"mt-2\",\n        initial: false,\n        animate: {\n          height: showOrderSummary ? \"auto\" : \"40px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setShowOrderSummary(!showOrderSummary),\n          className: \"flex justify-between w-full py-2 font-semibold bg-gray-50 px-3 rounded-md\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Order Summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\u20B9\", totalPrice.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 13\n        }, this), showOrderSummary && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2 p-3 bg-gray-50 rounded-md\",\n          children: [cart.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between py-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [item.name, \" x \", item.quantity]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u20B9\", (item.price * item.quantity).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 21\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 19\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-t mt-2 pt-2 font-semibold\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Total\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u20B9\", totalPrice.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between mt-6\",\n        children: [/*#__PURE__*/_jsxDEV(motion.button, {\n          variants: buttonTapVariants,\n          whileHover: {\n            scale: 1.05\n          },\n          whileTap: \"tap\",\n          type: \"button\",\n          onClick: handleBackClick,\n          className: \"bg-gray-200 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-300 transition-colors duration-200 flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(FaArrowLeft, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 502,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n          variants: buttonTapVariants,\n          whileHover: {\n            scale: 1.05\n          },\n          whileTap: \"tap\",\n          type: \"submit\",\n          className: `${!user || !user.email ? \"bg-gray-400 cursor-not-allowed\" : \"bg-blue-600 hover:bg-blue-700\"} text-white px-6 py-2 rounded-lg transition-colors duration-200`,\n          disabled: !user || !user.email,\n          children: \"Continue to Delivery\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 354,\n    columnNumber: 5\n  }, this);\n  const renderDeliveryOptions = () => /*#__PURE__*/_jsxDEV(motion.div, {\n    initial: {\n      opacity: 0,\n      height: 0\n    },\n    animate: {\n      opacity: 1,\n      height: \"auto\"\n    },\n    exit: {\n      opacity: 0,\n      height: 0\n    },\n    transition: {\n      duration: 0.3\n    },\n    className: \"bg-white p-6 rounded-lg shadow-md mt-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mb-4 flex items-center space-x-2\",\n      children: [/*#__PURE__*/_jsxDEV(FaBoxOpen, {\n        className: \"text-green-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Delivery Options\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 50\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 531,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-600 mb-4\",\n      children: \"Select your preferred delivery method:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 534,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(motion.label, {\n        className: `flex items-center space-x-3 p-4 rounded-lg border-2 cursor-pointer ${deliveryMethod === \"standard\" ? \"border-blue-500 bg-blue-50\" : \"border-gray-200\"}`,\n        whileHover: {\n          backgroundColor: \"#f8fafc\"\n        },\n        whileTap: {\n          scale: 0.99\n        },\n        onClick: () => setDeliveryMethod(\"standard\"),\n        children: [/*#__PURE__*/_jsxDEV(motion.div, {\n          animate: deliveryMethod === \"standard\" ? \"checked\" : \"unchecked\",\n          variants: radioButtonVariants,\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            name: \"delivery\",\n            className: \"form-radio text-blue-600 h-5 w-5\",\n            checked: deliveryMethod === \"standard\",\n            onChange: () => setDeliveryMethod(\"standard\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 545,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium block\",\n            children: \"Standard Delivery\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-gray-500\",\n            children: \"3-5 business days - Free\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 555,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(motion.label, {\n        className: `flex items-center space-x-3 p-4 rounded-lg border-2 cursor-pointer ${deliveryMethod === \"express\" ? \"border-blue-500 bg-blue-50\" : \"border-gray-200\"}`,\n        whileHover: {\n          backgroundColor: \"#f8fafc\"\n        },\n        whileTap: {\n          scale: 0.99\n        },\n        onClick: () => setDeliveryMethod(\"express\"),\n        children: [/*#__PURE__*/_jsxDEV(motion.div, {\n          animate: deliveryMethod === \"express\" ? \"checked\" : \"unchecked\",\n          variants: radioButtonVariants,\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            name: \"delivery\",\n            className: \"form-radio text-blue-600 h-5 w-5\",\n            checked: deliveryMethod === \"express\",\n            onChange: () => setDeliveryMethod(\"express\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 567,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 566,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium block\",\n            children: \"Express Delivery\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 576,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-gray-500\",\n            children: \"1-2 business days - \\u20B9100.00\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 577,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 575,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 558,\n        columnNumber: 9\n      }, this), isMobile && /*#__PURE__*/_jsxDEV(motion.div, {\n        className: \"mt-6\",\n        initial: false,\n        animate: {\n          height: showOrderSummary ? \"auto\" : \"40px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setShowOrderSummary(!showOrderSummary),\n          className: \"flex justify-between w-full py-2 font-semibold bg-gray-50 px-3 rounded-md\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Order Summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 587,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\u20B9\", totalPrice.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 588,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 582,\n          columnNumber: 13\n        }, this), showOrderSummary && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2 p-3 bg-gray-50 rounded-md\",\n          children: [cart.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between py-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [item.name, \" x \", item.quantity]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 594,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u20B9\", (item.price * item.quantity).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 597,\n              columnNumber: 21\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 593,\n            columnNumber: 19\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-t mt-2 pt-2 font-semibold\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Subtotal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 602,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u20B9\", totalPrice.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 603,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 601,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Delivery\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 606,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: deliveryMethod === \"express\" ? \"â‚¹100.00\" : \"Free\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 607,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 605,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between text-lg mt-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Total\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 610,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u20B9\", (totalPrice + (deliveryMethod === \"express\" ? 100 : 0)).toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 611,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 609,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 600,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 591,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 581,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 535,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between mt-6\",\n      children: [/*#__PURE__*/_jsxDEV(motion.button, {\n        variants: buttonTapVariants,\n        whileHover: {\n          scale: 1.05\n        },\n        whileTap: \"tap\",\n        onClick: handleBackClick,\n        className: \"bg-gray-200 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-300 transition-colors duration-200 flex items-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(FaArrowLeft, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 627,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 628,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 620,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n        variants: buttonTapVariants,\n        whileHover: {\n          scale: 1.05\n        },\n        whileTap: \"tap\",\n        onClick: handleDeliverySelection,\n        className: \"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200\",\n        children: \"Continue to Payment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 630,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 619,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 524,\n    columnNumber: 5\n  }, this);\n  const confettiColors = [\"#3B82F6\", \"#10B981\", \"#F59E0B\", \"#EF4444\", \"#8B5CF6\", \"#EC4899\"];\n  const renderConfetti = () => {\n    if (!showConfetti) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 pointer-events-none z-50 overflow-hidden\",\n      children: Array.from({\n        length: 100\n      }).map((_, i) => {\n        const color = confettiColors[i % confettiColors.length];\n        const left = `${Math.random() * 100}%`;\n        const size = Math.random() * 1 + 0.5;\n        const delay = Math.random() * 0.5;\n        return /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: \"initial\",\n          animate: \"animate\",\n          variants: confettiAnimation,\n          style: {\n            position: \"absolute\",\n            top: \"-20px\",\n            left,\n            width: `${size}rem`,\n            height: `${size / 2}rem`,\n            backgroundColor: color,\n            borderRadius: \"2px\",\n            transition: {\n              duration: Math.random() * 2.5 + 2.5,\n              delay,\n              ease: \"easeOut\"\n            }\n          }\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 654,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 647,\n      columnNumber: 7\n    }, this);\n  };\n  const handleGenerateInvoice = () => {\n    setIsGeneratingPdf(true);\n    setTimeout(() => {\n      try {\n        const doc = new jsPDF();\n\n        // Define colors\n        const primaryColor = [59, 130, 246]; // Blue\n        const secondaryColor = [107, 114, 128]; // Gray\n        const lightGray = [229, 231, 235];\n\n        // Header section with store info\n        doc.setFillColor(249, 250, 251); // Light background\n        doc.rect(0, 0, 210, 40, \"F\");\n\n        // Store Name and Logo\n        doc.setFont(\"helvetica\", \"bold\");\n        doc.setFontSize(22);\n        doc.setTextColor(primaryColor[0], primaryColor[1], primaryColor[2]);\n        doc.text(\"KSP YARNS\", 105, 15, {\n          align: \"center\"\n        });\n\n        // Store Address and Contact\n        doc.setFont(\"helvetica\", \"normal\");\n        doc.setFontSize(10);\n        doc.setTextColor(secondaryColor[0], secondaryColor[1], secondaryColor[2]);\n        doc.text(\"4-130 Gandhi Nagar, Karur Sukkaliyur\", 105, 23, {\n          align: \"center\"\n        });\n        doc.text(\"Tamil Nadu, India - 641006\", 105, 28, {\n          align: \"center\"\n        });\n        doc.text(\"Phone: +91 9994955782 | Email: kspyarnskarur@gmail.com\", 105, 33, {\n          align: \"center\"\n        });\n\n        // INVOICE title\n        doc.setFont(\"helvetica\", \"bold\");\n        doc.setFontSize(18);\n        doc.setTextColor(primaryColor[0], primaryColor[1], primaryColor[2]);\n        doc.text(\"INVOICE\", 105, 50, {\n          align: \"center\"\n        });\n\n        // Invoice details\n        doc.setFont(\"helvetica\", \"normal\");\n        doc.setFontSize(10);\n        doc.setTextColor(secondaryColor[0], secondaryColor[1], secondaryColor[2]);\n        const today = new Date().toLocaleDateString();\n        doc.text(`Date: ${today}`, 20, 60);\n        doc.text(`Invoice #: ${savedOrder ? savedOrder.orderReference : orderReference}`, 20, 65);\n        doc.text(`Payment Method: ${paymentMethod === \"razorpay\" ? \"Online Payment\" : \"Cash on Delivery\"}`, 20, 70);\n\n        // Customer info - Updated to use user.email directly\n        doc.setFont(\"helvetica\", \"bold\");\n        doc.setFontSize(12);\n        doc.text(\"Bill To:\", 140, 60);\n        doc.setFont(\"helvetica\", \"normal\");\n        doc.setFontSize(10);\n        doc.text(`${shippingInfo.fullName}`, 140, 65);\n        doc.text(`${shippingInfo.addressLine1}`, 140, 70);\n        doc.text(`${shippingInfo.city}, ${shippingInfo.postalCode}`, 140, 75);\n        doc.text(`Email: ${user ? user.email : \"No email provided\"}`, 140, 80);\n\n        // Horizontal line\n        doc.setDrawColor(lightGray[0], lightGray[1], lightGray[2]);\n        doc.setLineWidth(0.5);\n        doc.line(20, 85, 190, 85);\n\n        // Order items table\n        doc.autoTable({\n          startY: 90,\n          head: [[\"Item\", \"Quantity\", \"Price\", \"Total\"]],\n          body: cart.map(item => [item.name, item.quantity.toString(), `â‚¹${item.price.toFixed(2)}`, `â‚¹${(item.price * item.quantity).toFixed(2)}`]),\n          theme: \"grid\",\n          headStyles: {\n            fillColor: [59, 130, 246],\n            textColor: [255, 255, 255],\n            fontStyle: \"bold\"\n          },\n          columnStyles: {\n            0: {\n              cellWidth: 80\n            },\n            1: {\n              cellWidth: 30,\n              halign: \"center\"\n            },\n            2: {\n              cellWidth: 30,\n              halign: \"right\"\n            },\n            3: {\n              cellWidth: 30,\n              halign: \"right\"\n            }\n          },\n          styles: {\n            font: \"helvetica\",\n            fontSize: 10\n          },\n          alternateRowStyles: {\n            fillColor: [249, 250, 251]\n          }\n        });\n\n        // Get the Y position after the table\n        const finalY = doc.lastAutoTable.finalY + 10;\n\n        // Summary section\n        doc.setDrawColor(lightGray[0], lightGray[1], lightGray[2]);\n        doc.setLineWidth(0.5);\n\n        // Create a right-aligned summary\n        const summaryX = 120;\n        const summaryWidth = 70;\n        let currentY = finalY;\n\n        // Add summary items\n        doc.setFont(\"helvetica\", \"normal\");\n        doc.text(\"Subtotal:\", summaryX, currentY);\n        doc.text(`â‚¹${totalPrice.toFixed(2)}`, summaryX + summaryWidth, currentY, {\n          align: \"right\"\n        });\n        currentY += 7;\n        doc.text(\"Delivery:\", summaryX, currentY);\n        doc.text(deliveryMethod === \"express\" ? \"â‚¹100.00\" : \"Free\", summaryX + summaryWidth, currentY, {\n          align: \"right\"\n        });\n        currentY += 7;\n\n        // Total with bold style\n        doc.setFont(\"helvetica\", \"bold\");\n        doc.setFontSize(12);\n        doc.text(\"Total:\", summaryX, currentY);\n        doc.text(`â‚¹${(totalPrice + (deliveryMethod === \"express\" ? 100 : 0)).toFixed(2)}`, summaryX + summaryWidth, currentY, {\n          align: \"right\"\n        });\n\n        // Footer\n        const pageHeight = doc.internal.pageSize.height;\n        doc.setFont(\"helvetica\", \"italic\");\n        doc.setFontSize(10);\n        doc.setTextColor(secondaryColor[0], secondaryColor[1], secondaryColor[2]);\n        doc.text(\"Thank you for shopping with KSP Yarns!\", 105, pageHeight - 30, {\n          align: \"center\"\n        });\n        doc.text(\"We appreciate your business.\", 105, pageHeight - 25, {\n          align: \"center\"\n        });\n\n        // Save the PDF\n        doc.save(`Invoice_${savedOrder ? savedOrder.orderReference : orderReference}.pdf`);\n      } catch (error) {\n        console.error(\"Error generating PDF:\", error);\n      } finally {\n        setIsGeneratingPdf(false);\n      }\n    }, 500);\n  };\n\n  // Update the confirmation section\n  const renderConfirmation = () => /*#__PURE__*/_jsxDEV(motion.div, {\n    initial: {\n      opacity: 0,\n      scale: 0.8\n    },\n    animate: {\n      opacity: 1,\n      scale: 1\n    },\n    transition: {\n      type: \"spring\",\n      stiffness: 100\n    },\n    className: \"bg-white p-8 rounded-lg shadow-md mt-6 max-w-2xl mx-auto\",\n    children: [renderConfetti(), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          scale: 0\n        },\n        animate: {\n          scale: [0, 1.2, 1],\n          rotate: [0, 10, -10, 0]\n        },\n        transition: {\n          duration: 0.7\n        },\n        className: \"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6\",\n        children: /*#__PURE__*/_jsxDEV(FaCheckCircle, {\n          className: \"text-green-600 text-5xl\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 832,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 826,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(motion.h2, {\n        initial: {\n          opacity: 0,\n          y: 20\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        transition: {\n          delay: 0.3\n        },\n        className: \"text-3xl font-bold mb-2\",\n        children: \"Order Confirmed!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 834,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(motion.p, {\n        initial: {\n          opacity: 0\n        },\n        animate: {\n          opacity: 1\n        },\n        transition: {\n          delay: 0.5\n        },\n        className: \"text-gray-600\",\n        children: \"Thank you for your purchase\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 842,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0\n        },\n        animate: {\n          opacity: 1\n        },\n        transition: {\n          delay: 0.7\n        },\n        className: \"mt-3 text-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-medium\",\n          children: [\"Order Reference: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-bold bg-blue-50 px-2 py-1 rounded\",\n            children: savedOrder ? savedOrder.orderReference : orderReference\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 857,\n            columnNumber: 30\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 856,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm mt-2 text-gray-600\",\n          children: paymentMethod === \"cod\" ? `You will pay â‚¹${(totalPrice + (deliveryMethod === \"express\" ? 100 : 0)).toFixed(2)} when your order arrives.` : \"Payment has been completed successfully.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 859,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 850,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 825,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        opacity: 0,\n        y: 20\n      },\n      animate: {\n        opacity: 1,\n        y: 0\n      },\n      transition: {\n        delay: 0.9\n      },\n      className: \"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border border-blue-100 mb-6 relative overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-0 right-0 w-24 h-24 -mt-8 -mr-8 bg-blue-200 rounded-full opacity-20\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 874,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-semibold text-lg mb-4 text-blue-800 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(FileText, {\n          className: \"mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 876,\n          columnNumber: 11\n        }, this), \" Order Details\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 875,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-4 rounded-md shadow-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-sm uppercase text-gray-500 mb-2\",\n            children: \"Items\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 882,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"max-h-40 overflow-y-auto pr-2\",\n            children: cart.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between py-2 border-b border-gray-100 last:border-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-3\",\n                children: [item.image && /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: item.image,\n                  alt: item.name,\n                  className: \"h-10 w-10 rounded object-cover\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 888,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-medium\",\n                    children: item.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 891,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-500\",\n                    children: [\"\\u20B9\", item.price.toFixed(2), \" \\xD7 \", item.quantity]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 892,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 890,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 886,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-semibold\",\n                children: [\"\\u20B9\", (item.price * item.quantity).toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 895,\n                columnNumber: 19\n              }, this)]\n            }, item.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 885,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 883,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 881,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white p-4 rounded-md shadow-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-sm uppercase text-gray-500 mb-2\",\n              children: \"Shipping Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 904,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-medium\",\n              children: shippingInfo.fullName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 905,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: shippingInfo.addressLine1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 906,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: [shippingInfo.city, \", \", shippingInfo.postalCode]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 907,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600 mt-1\",\n              children: user ? user.email : \"No email provided\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 908,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 903,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white p-4 rounded-md shadow-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-sm uppercase text-gray-500 mb-2\",\n              children: \"Delivery Method\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 912,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"flex items-center font-medium\",\n              children: [/*#__PURE__*/_jsxDEV(FaTruck, {\n                className: \"mr-2 text-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 914,\n                columnNumber: 17\n              }, this), deliveryMethod === \"express\" ? \"Express Delivery (1-2 days)\" : \"Standard Delivery (3-5 days)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 913,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600 mt-1\",\n              children: deliveryMethod === \"express\" ? \"Priority shipping with tracking\" : \"Free shipping with tracking\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 917,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 911,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 902,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-4 rounded-md shadow-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-sm uppercase text-gray-500 mb-2\",\n            children: \"Payment Summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 925,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-600\",\n                children: \"Subtotal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 928,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u20B9\", totalPrice.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 929,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 927,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-600\",\n                children: \"Delivery\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 932,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: deliveryMethod === \"standard\" ? \"text-green-600\" : \"\",\n                children: deliveryMethod === \"express\" ? \"â‚¹100.00\" : \"Free\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 933,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 931,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-600\",\n                children: \"Payment Method\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 938,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"flex items-center\",\n                children: paymentMethod === \"razorpay\" ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(FaCreditCard, {\n                    className: \"mr-1 text-blue-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 942,\n                    columnNumber: 23\n                  }, this), \" Online Payment\"]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(FaMoneyBillWave, {\n                    className: \"mr-1 text-green-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 946,\n                    columnNumber: 23\n                  }, this), \" Cash on Delivery\"]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 939,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 937,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between font-bold text-lg mt-2 pt-2 border-t border-gray-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Total\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 952,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-blue-600\",\n                children: [\"\\u20B9\", (totalPrice + (deliveryMethod === \"express\" ? 100 : 0)).toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 953,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 951,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 926,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 924,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 879,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 868,\n      columnNumber: 7\n    }, this), orderProcessingError && /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      className: \"bg-yellow-50 border border-yellow-200 text-yellow-800 p-4 rounded-md mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-semibold mb-1\",\n        children: \"Important Note:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 966,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: orderProcessingError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 967,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 961,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        opacity: 0,\n        y: 20\n      },\n      animate: {\n        opacity: 1,\n        y: 0\n      },\n      transition: {\n        delay: 1.1\n      },\n      className: \"flex flex-col sm:flex-row justify-center gap-4 mt-6\",\n      children: [/*#__PURE__*/_jsxDEV(motion.button, {\n        whileHover: {\n          scale: 1.05\n        },\n        whileTap: {\n          scale: 0.95\n        },\n        onClick: handleGenerateInvoice,\n        disabled: isGeneratingPdf,\n        className: `${isGeneratingPdf ? \"bg-gray-400\" : \"bg-blue-600 hover:bg-blue-700\"} text-white px-6 py-3 rounded-lg transition-colors duration-200 flex items-center justify-center`,\n        children: isGeneratingPdf ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(FaSpinner, {\n            className: \"animate-spin mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 988,\n            columnNumber: 15\n          }, this), \"Generating Invoice...\"]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(FaDownload, {\n            className: \"mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 993,\n            columnNumber: 15\n          }, this), \"Download Invoice\"]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 977,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/products\",\n        children: /*#__PURE__*/_jsxDEV(motion.button, {\n          whileHover: {\n            scale: 1.05\n          },\n          whileTap: {\n            scale: 0.95\n          },\n          className: \"bg-gray-100 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-200 transition-colors duration-200 flex items-center justify-center\",\n          children: [/*#__PURE__*/_jsxDEV(FaArrowLeft, {\n            className: \"mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1005,\n            columnNumber: 13\n          }, this), \"Continue Shopping\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1000,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 999,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 971,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      transition: {\n        delay: 1.3\n      },\n      className: \"mt-8 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-500\",\n        children: [\"Estimated delivery: \", deliveryMethod === \"express\" ? new Date(Date.now() + 2 * 24 * 60 * 60 * 1000).toLocaleDateString() : new Date(Date.now() + 5 * 24 * 60 * 60 * 1000).toLocaleDateString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1018,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-gray-400 mt-1\",\n        children: \"You will receive an email with your order details and tracking information.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1025,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1012,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 818,\n    columnNumber: 5\n  }, this);\n  const renderCheckoutProgress = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mb-12\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between relative\",\n      children: [steps.map((stepName, index) => {\n        const isCompleted = index < currentStepIndex;\n        const isCurrent = index === currentStepIndex;\n        let status = isCompleted ? \"completed\" : isCurrent ? \"active\" : \"inactive\";\n        const getIcon = () => {\n          switch (stepName) {\n            case \"cart\":\n              return /*#__PURE__*/_jsxDEV(FaShoppingCart, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1042,\n                columnNumber: 24\n              }, this);\n            case \"shipping\":\n              return /*#__PURE__*/_jsxDEV(FaTruck, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1044,\n                columnNumber: 24\n              }, this);\n            case \"delivery\":\n              return /*#__PURE__*/_jsxDEV(FaBoxOpen, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1046,\n                columnNumber: 24\n              }, this);\n            case \"payment\":\n              return /*#__PURE__*/_jsxDEV(FaCreditCard, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1048,\n                columnNumber: 24\n              }, this);\n            case \"confirmation\":\n              return /*#__PURE__*/_jsxDEV(FaCheckCircle, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1050,\n                columnNumber: 24\n              }, this);\n            default:\n              return null;\n          }\n        };\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col items-center relative z-10\",\n          children: [/*#__PURE__*/_jsxDEV(motion.div, {\n            initial: \"inactive\",\n            animate: status,\n            variants: stepIndicatorVariant,\n            className: `w-12 h-12 rounded-full flex items-center justify-center mb-2 ${status === \"completed\" ? \"bg-blue-600 text-white\" : status === \"active\" ? \"bg-white text-blue-600 border-2 border-blue-600\" : \"bg-gray-100 text-gray-500 border-2 border-gray-300\"}`,\n            children: getIcon()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1057,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `text-sm font-medium ${status === \"completed\" || status === \"active\" ? \"text-blue-600\" : \"text-gray-500\"}`,\n            children: stepName.charAt(0).toUpperCase() + stepName.slice(1)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1071,\n            columnNumber: 15\n          }, this)]\n        }, stepName, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1056,\n          columnNumber: 13\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute h-1 bg-gray-200 top-6 left-0 right-0 z-0\",\n        style: {\n          width: \"100%\",\n          transform: \"translateY(-50%)\"\n        },\n        children: /*#__PURE__*/_jsxDEV(motion.div, {\n          variants: progressBarVariant,\n          initial: \"initial\",\n          animate: \"animate\",\n          className: \"h-full bg-blue-600 rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1082,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1081,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1034,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1033,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    className: \"container mx-auto px-4 py-8 min-h-[60vh]\",\n    initial: \"initial\",\n    animate: \"animate\",\n    exit: \"exit\",\n    variants: pageTransition,\n    children: [/*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"mb-8\",\n      variants: fadeInScale,\n      children: renderCheckoutProgress()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1090,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n      mode: \"wait\",\n      children: [step === \"cart\" && /*#__PURE__*/_jsxDEV(motion.div, {\n        variants: staggerContainer,\n        initial: \"initial\",\n        animate: \"animate\",\n        exit: \"exit\",\n        className: \"bg-white p-6 rounded-lg shadow-md\",\n        children: renderCartItems()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1095,\n        columnNumber: 11\n      }, this), step === \"shipping\" && renderShippingForm(), step === \"delivery\" && renderDeliveryOptions(), step === \"payment\" && /*#__PURE__*/_jsxDEV(Payment, {\n        cart: cart.map(item => ({\n          ...item,\n          productId: item.id // Ensure productId is included\n        })),\n        shippingInfo: shippingInfo,\n        deliveryMethod: deliveryMethod,\n        user: user,\n        totalPrice: totalPrice,\n        handleBackClick: handleBackClick,\n        onSuccessfulPayment: handleSuccessfulPayment\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1104,\n        columnNumber: 11\n      }, this), step === \"confirmation\" && renderConfirmation()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1093,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1089,\n    columnNumber: 5\n  }, this);\n};\n_s(CartPage, \"YpF+L1ktx/xqFPnYM4FQFVM7jmI=\");\n_c = CartPage;\nexport default CartPage;\nvar _c;\n$RefreshReg$(_c, \"CartPage\");","map":{"version":3,"names":["motion","AnimatePresence","Link","FaTrash","FaMinus","FaPlus","FaShoppingCart","FaSpinner","FaTruck","FaBoxOpen","FaCreditCard","FaCheckCircle","FaArrowLeft","FaMoneyBillWave","FaDownload","FaTimes","useState","useEffect","Payment","jsPDF","FileText","jsxDEV","_jsxDEV","Fragment","_Fragment","CartPage","cart","updateQuantity","removeFromCart","isLoading","user","_s","step","setStep","shippingInfo","setShippingInfo","fullName","addressLine1","city","postalCode","phone","totalPrice","reduce","sum","item","price","quantity","steps","currentStepIndex","indexOf","savedOrder","setSavedOrder","orderProcessingError","setOrderProcessingError","showConfetti","setShowConfetti","progressAnimation","setProgressAnimation","deliveryMethod","setDeliveryMethod","showOrderSummary","setShowOrderSummary","isMobile","setIsMobile","orderReference","setOrderReference","paymentMethod","setPaymentMethod","isGeneratingPdf","setIsGeneratingPdf","handleBackClick","previousStepIndex","Math","max","progress","length","checkIfMobile","window","innerWidth","addEventListener","removeEventListener","floor","random","timer","setTimeout","clearTimeout","handleSuccessfulPayment","order","method","spinnerVariants","spin","rotate","transition","repeat","Infinity","duration","emptyCartVariants","hidden","opacity","scale","visible","checkoutButtonVariants","hover","boxShadow","tap","pageTransition","initial","y","animate","exit","floatingAnimation","ease","times","staggerContainer","staggerChildren","fadeInScale","type","stiffness","damping","confettiAnimation","cartItemVariants","x","backgroundColor","buttonTapVariants","quantityButtonVariants","formInputVariants","focus","borderColor","radioButtonVariants","checked","unchecked","stepIndicatorVariant","inactive","active","completed","color","progressBarVariant","width","handleShippingInfoSubmit","e","preventDefault","alert","email","handleDeliverySelection","div","className","children","fileName","_jsxFileName","lineNumber","columnNumber","h2","p","delay","variants","to","button","whileHover","whileTap","renderCartItems","map","index","tr","layout","src","image","alt","name","toFixed","onClick","id","span","renderShippingForm","onSubmit","input","whileFocus","placeholder","value","onChange","target","required","height","disabled","renderDeliveryOptions","label","confettiColors","renderConfetti","Array","from","_","i","left","size","style","position","top","borderRadius","handleGenerateInvoice","doc","primaryColor","secondaryColor","lightGray","setFillColor","rect","setFont","setFontSize","setTextColor","text","align","today","Date","toLocaleDateString","setDrawColor","setLineWidth","line","autoTable","startY","head","body","toString","theme","headStyles","fillColor","textColor","fontStyle","columnStyles","cellWidth","halign","styles","font","fontSize","alternateRowStyles","finalY","lastAutoTable","summaryX","summaryWidth","currentY","pageHeight","internal","pageSize","save","error","console","renderConfirmation","now","renderCheckoutProgress","stepName","isCompleted","isCurrent","status","getIcon","charAt","toUpperCase","slice","transform","mode","productId","onSuccessfulPayment","_c","$RefreshReg$"],"sources":["d:/ksp_devops/ksp_user_devops/frontend/src/components/CartPage.js"],"sourcesContent":["import { motion, AnimatePresence } from \"framer-motion\";\r\nimport { Link } from \"react-router-dom\"; // Add this import\r\nimport {\r\n  FaTrash,\r\n  FaMinus,\r\n  FaPlus,\r\n  FaShoppingCart,\r\n  FaSpinner,\r\n  FaTruck,\r\n  FaBoxOpen,\r\n  FaCreditCard,\r\n  FaCheckCircle,\r\n  FaArrowLeft,\r\n  FaMoneyBillWave,\r\n  FaDownload,\r\n  FaTimes, // Added missing FaTimes icon\r\n} from \"react-icons/fa\";\r\nimport { useState, useEffect } from \"react\";\r\n// Removing axios since it's not used in this component directly\r\nimport Payment from \"./Payment\"; // Import the new Payment component\r\nimport { jsPDF } from \"jspdf\";\r\nimport \"jspdf-autotable\"; // Add this import for table support in PDF\r\nimport { FileText } from \"lucide-react\"; // or use another file icon\r\n\r\nconst CartPage = ({ cart, updateQuantity, removeFromCart, isLoading, user }) => {\r\n  const [step, setStep] = useState(\"cart\");\r\n  // Updated shippingInfo to remove the email field\r\n  const [shippingInfo, setShippingInfo] = useState({\r\n    fullName: \"\",\r\n    addressLine1: \"\",\r\n    city: \"\",\r\n    postalCode: \"\",\r\n    phone: \"\", // Add phone field\r\n  });\r\n  const totalPrice = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);\r\n\r\n  const steps = [\"cart\", \"shipping\", \"delivery\", \"payment\", \"confirmation\"];\r\n  const currentStepIndex = steps.indexOf(step);\r\n\r\n  const [savedOrder, setSavedOrder] = useState(null);\r\n  // Using setOrderProcessingError in new handleSuccessfulPayment function\r\n  const [orderProcessingError, setOrderProcessingError] = useState(\"\");\r\n  const [showConfetti, setShowConfetti] = useState(false);\r\n  const [progressAnimation, setProgressAnimation] = useState(0);\r\n  const [deliveryMethod, setDeliveryMethod] = useState(\"standard\");\r\n  const [showOrderSummary, setShowOrderSummary] = useState(false);\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  const [orderReference, setOrderReference] = useState(\"\");\r\n  const [paymentMethod, setPaymentMethod] = useState(\"razorpay\"); // Add missing state\r\n  const [isGeneratingPdf, setIsGeneratingPdf] = useState(false);\r\n\r\n  // Handle Back Button Click\r\n  const handleBackClick = () => {\r\n    const previousStepIndex = Math.max(currentStepIndex - 1, 0);\r\n    setStep(steps[previousStepIndex]);\r\n  };\r\n\r\n  // Update progress animation\r\n  useEffect(() => {\r\n    const progress = ((currentStepIndex + 1) / steps.length) * 100;\r\n    setProgressAnimation(progress);\r\n  }, [currentStepIndex, steps.length]);\r\n\r\n  // Check if mobile\r\n  useEffect(() => {\r\n    const checkIfMobile = () => setIsMobile(window.innerWidth < 768);\r\n    checkIfMobile();\r\n    window.addEventListener(\"resize\", checkIfMobile);\r\n    return () => window.removeEventListener(\"resize\", checkIfMobile);\r\n  }, []);\r\n\r\n  // Generate order reference\r\n  useEffect(() => {\r\n    if (step === \"confirmation\" && !orderReference) {\r\n      setOrderReference(`ORD-${Math.floor(Math.random() * 1000000)}`);\r\n      setShowConfetti(true);\r\n      const timer = setTimeout(() => setShowConfetti(false), 4000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [step, orderReference]);\r\n\r\n  // Handle successful payment - Modified to use setOrderProcessingError\r\n  const handleSuccessfulPayment = (order, method) => {\r\n    setSavedOrder(order);\r\n    setPaymentMethod(method); // Store the payment method\r\n    if (!order) {\r\n      setOrderProcessingError(\"Order was processed but could not be saved. Please contact support with your reference number.\");\r\n    }\r\n    setStep(\"confirmation\");\r\n  };\r\n\r\n  // Animation variants - removing unused ones and keeping the ones we need\r\n  const spinnerVariants = { \r\n    spin: { rotate: 360, transition: { repeat: Infinity, duration: 1 } }\r\n  };\r\n  \r\n  const emptyCartVariants = {\r\n    hidden: { opacity: 0, scale: 0.8 },\r\n    visible: { opacity: 1, scale: 1, transition: { duration: 0.5 } },\r\n  };\r\n  const checkoutButtonVariants = {\r\n    hover: { scale: 1.05, boxShadow: \"0px 4px 10px rgba(0, 0, 0, 0.2)\" },\r\n    tap: { scale: 0.95 },\r\n  };\r\n  const pageTransition = {\r\n    initial: { opacity: 0, y: 20 },\r\n    animate: { opacity: 1, y: 0 },\r\n    exit: { opacity: 0, y: -20 },\r\n    transition: { duration: 0.5 },\r\n  };\r\n  const floatingAnimation = {\r\n    animate: {\r\n      y: [0, -10, 0],\r\n      transition: { duration: 3, repeat: Infinity, ease: \"easeInOut\", times: [0, 0.5, 1] },\r\n    },\r\n  };\r\n  \r\n  const staggerContainer = {\r\n    animate: { transition: { staggerChildren: 0.07 } },\r\n  };\r\n  const fadeInScale = {\r\n    initial: { opacity: 0, scale: 0.9, y: 20 },\r\n    animate: {\r\n      opacity: 1,\r\n      scale: 1,\r\n      y: 0,\r\n      transition: { type: \"spring\", stiffness: 100, damping: 10 },\r\n    },\r\n  };\r\n  \r\n  // Define confetti animation that was missing but used in renderConfetti\r\n  const confettiAnimation = {\r\n    initial: { opacity: 0, scale: 0 },\r\n    animate: {\r\n      opacity: [0, 1, 1, 0],\r\n      scale: [0.5, 1.2, 1],\r\n      y: [0, -100, -50, 0],\r\n      rotate: [0, 180, 360],\r\n      transition: { duration: 2, ease: \"easeOut\" },\r\n    },\r\n  };\r\n  \r\n  const cartItemVariants = {\r\n    initial: { opacity: 0, x: -50 },\r\n    animate: { opacity: 1, x: 0, transition: { type: \"spring\", stiffness: 100 } },\r\n    exit: { opacity: 0, x: 50, transition: { duration: 0.3 } },\r\n    hover: { scale: 1.02, boxShadow: \"0px 3px 10px rgba(0,0,0,0.1)\", backgroundColor: \"rgba(249, 250, 251, 1)\" },\r\n  };\r\n  const buttonTapVariants = { tap: { scale: 0.95 } };\r\n  const quantityButtonVariants = {\r\n    hover: { backgroundColor: \"#dbeafe\", scale: 1.05 },\r\n    tap: { scale: 0.9 },\r\n  };\r\n  const formInputVariants = {\r\n    focus: { scale: 1.01, boxShadow: \"0px 0px 8px rgba(59, 130, 246, 0.5)\", borderColor: \"#3b82f6\" },\r\n  };\r\n  const radioButtonVariants = { checked: { scale: 1.1 }, unchecked: { scale: 1 } };\r\n  const stepIndicatorVariant = {\r\n    inactive: { scale: 1, opacity: 0.7 },\r\n    active: { scale: 1.1, opacity: 1, boxShadow: \"0px 0px 8px rgba(37, 99, 235, 0.5)\" },\r\n    completed: { scale: 1, opacity: 1, backgroundColor: \"#2563eb\", color: \"white\" },\r\n  };\r\n  const progressBarVariant = {\r\n    initial: { width: \"0%\" },\r\n    animate: { width: `${progressAnimation}%`, transition: { duration: 0.8, ease: \"easeOut\" } },\r\n  };\r\n\r\n  // Updated handleShippingInfoSubmit - no need to validate email since we use the user's email\r\n  const handleShippingInfoSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { fullName, addressLine1, city, postalCode, phone } = shippingInfo;\r\n\r\n    // Basic validation for required fields\r\n    if (!fullName || !addressLine1 || !city || !postalCode || !phone) {\r\n      alert(\"Please fill in all fields.\");\r\n      return;\r\n    }\r\n\r\n    // If user is not signed in, they can't proceed (we need their email)\r\n    if (!user || !user.email) {\r\n      alert(\"Please sign in to continue with checkout.\");\r\n      return;\r\n    }\r\n\r\n    setStep(\"delivery\");\r\n  };\r\n\r\n  const handleDeliverySelection = () => setStep(\"payment\");\r\n\r\n  // Render functions\r\n  if (isLoading) {\r\n    return (\r\n      <motion.div className=\"text-center mt-20\" initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }}>\r\n        <motion.div\r\n          animate={spinnerVariants.spin}\r\n          className=\"text-6xl mx-auto text-blue-500 mb-4\"\r\n        >\r\n          <FaSpinner />\r\n        </motion.div>\r\n        <motion.h2\r\n          animate={{ opacity: [0.5, 1, 0.5] }}\r\n          transition={{ duration: 2, repeat: Infinity }}\r\n          className=\"text-2xl font-semibold mb-4\"\r\n        >\r\n          Loading your cart...\r\n        </motion.h2>\r\n        <motion.p initial={{ opacity: 0 }} animate={{ opacity: 1 }} transition={{ delay: 1 }} className=\"text-gray-500\">\r\n          Just a moment while we prepare your items\r\n        </motion.p>\r\n      </motion.div>\r\n    );\r\n  }\r\n\r\n  // Modify the empty cart section with a Link \r\n  if (cart.length === 0) {\r\n    return (\r\n      <motion.div\r\n        variants={emptyCartVariants}\r\n        initial=\"hidden\"\r\n        animate=\"visible\"\r\n        className=\"container mx-auto px-4 py-20 min-h-[60vh] flex flex-col items-center justify-center\"\r\n      >\r\n        <motion.div variants={floatingAnimation} animate=\"animate\" className=\"mb-6 p-6 bg-blue-50 rounded-full\">\r\n          <FaShoppingCart className=\"text-6xl text-blue-400\" />\r\n        </motion.div>\r\n        <h2 className=\"text-2xl font-semibold mb-4\">Your cart is empty</h2>\r\n        <p className=\"text-gray-600 mb-6 text-center max-w-md\">\r\n          Looks like you haven't added anything to your cart yet. Browse our products and find something you'll love!\r\n        </p>\r\n        <Link to=\"/products\">\r\n          <motion.button\r\n            whileHover={{ scale: 1.05 }}\r\n            whileTap={{ scale: 0.95 }}\r\n            className=\"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center space-x-2\"\r\n          >\r\n            <FaArrowLeft />\r\n            <span>Continue Shopping</span>\r\n          </motion.button>\r\n        </Link>\r\n      </motion.div>\r\n    );\r\n  }\r\n\r\n  // Modify the cart items section with a Link\r\n  const renderCartItems = () => (\r\n    <div className={`${isMobile ? \"overflow-x-auto\" : \"\"}`}>\r\n      <table className=\"w-full min-w-[768px]\">\r\n        <thead>\r\n          <tr className=\"border-b\">\r\n            <th className=\"text-left py-2\">Product</th>\r\n            <th className=\"text-left py-2\">Price</th>\r\n            <th className=\"text-left py-2\">Tax</th>\r\n            <th className=\"text-left py-2\">Quantity</th>\r\n            <th className=\"text-left py-2\">Total</th>\r\n            <th className=\"text-left py-2\">Remove</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <AnimatePresence>\r\n            {cart.map((item, index) => (\r\n              <motion.tr\r\n                key={item.id}\r\n                layout\r\n                variants={cartItemVariants}\r\n                initial=\"initial\"\r\n                animate=\"animate\"\r\n                exit=\"exit\"\r\n                whileHover=\"hover\"\r\n                className=\"border-b\"\r\n                transition={{ delay: index * 0.05 }}\r\n              >\r\n                <td className=\"py-4 flex items-center space-x-4\">\r\n                  <motion.div whileHover={{ scale: 1.1, rotate: 5 }} className=\"overflow-hidden rounded-lg\">\r\n                    <img src={item.image || \"/placeholder.svg\"} alt={item.name} className=\"w-20 h-20 object-cover\" />\r\n                  </motion.div>\r\n                  <span className=\"text-xl font-semibold\">{item.name}</span>\r\n                </td>\r\n                <td className=\"py-4\">â‚¹{item.price.toFixed(2)}</td>\r\n                <td className=\"py-4\">â‚¹0.00</td>\r\n                <td className=\"py-4\">\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <motion.button\r\n                      variants={quantityButtonVariants}\r\n                      whileHover=\"hover\"\r\n                      whileTap=\"tap\"\r\n                      onClick={() => updateQuantity(item.id, Math.max(1, item.quantity - 1))}\r\n                      className=\"bg-gray-200 p-2 rounded-full transition-colors duration-200\"\r\n                    >\r\n                      <FaMinus />\r\n                    </motion.button>\r\n                    <motion.span\r\n                      key={item.quantity}\r\n                      initial={{ scale: 1.5, opacity: 0 }}\r\n                      animate={{ scale: 1, opacity: 1 }}\r\n                      className=\"text-xl font-semibold w-8 text-center\"\r\n                    >\r\n                      {item.quantity}\r\n                    </motion.span>\r\n                    <motion.button\r\n                      variants={quantityButtonVariants}\r\n                      whileHover=\"hover\"\r\n                      whileTap=\"tap\"\r\n                      onClick={() => updateQuantity(item.id, item.quantity + 1)}\r\n                      className=\"bg-gray-200 p-2 rounded-full transition-colors duration-200\"\r\n                    >\r\n                      <FaPlus />\r\n                    </motion.button>\r\n                  </div>\r\n                </td>\r\n                <td className=\"py-4 font-semibold\">â‚¹{(item.price * item.quantity).toFixed(2)}</td>\r\n                <td className=\"py-4\">\r\n                  <motion.button\r\n                    whileHover={{ scale: 1.2, color: \"#ef4444\" }}\r\n                    whileTap={{ scale: 0.9 }}\r\n                    onClick={() => removeFromCart(item.id)}\r\n                    className=\"text-red-500 hover:text-red-600 transition-colors duration-200\"\r\n                  >\r\n                    <FaTrash />\r\n                  </motion.button>\r\n                </td>\r\n              </motion.tr>\r\n            ))}\r\n          </AnimatePresence>\r\n        </tbody>\r\n      </table>\r\n      <motion.div\r\n        initial={{ opacity: 0, y: 20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ delay: 0.3, duration: 0.5 }}\r\n        className=\"mt-8 flex justify-between items-center\"\r\n      >\r\n        <Link to=\"/products\">\r\n          <button className=\"bg-gray-200 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-300 transition-colors duration-200\">\r\n            â† Return to shop\r\n          </button>\r\n        </Link>\r\n        <div className=\"text-right\">\r\n          <span className=\"text-xl font-semibold\">Subtotal: â‚¹{totalPrice.toFixed(2)}</span>\r\n          <motion.button\r\n            variants={checkoutButtonVariants}\r\n            whileHover=\"hover\"\r\n            whileTap=\"tap\"\r\n            onClick={() => setStep(\"shipping\")}\r\n            className=\"w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200 text-lg font-semibold mt-4\"\r\n          >\r\n            Continue to Shipping\r\n          </motion.button>\r\n        </div>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n\r\n  const renderShippingForm = () => (\r\n    <motion.div\r\n      variants={fadeInScale}\r\n      initial=\"initial\"\r\n      animate=\"animate\"\r\n      exit=\"exit\"\r\n      className=\"bg-white p-6 rounded-lg shadow-md\"\r\n    >\r\n      <h2 className=\"text-2xl font-bold mb-6 flex items-center space-x-2\">\r\n        <FaTruck className=\"text-blue-600\" /> <span>Shipping Address</span>\r\n      </h2>\r\n      \r\n      {/* Always show user's email since it's required */}\r\n      {user && user.email && (\r\n        <div className=\"mb-4 p-3 bg-blue-50 rounded-lg flex items-center\">\r\n          <div className=\"text-blue-700 mr-3\">\r\n            <FaCheckCircle />\r\n          </div>\r\n          <div>\r\n            <p className=\"text-sm text-gray-700\">Shipping to account email:</p>\r\n            <p className=\"font-medium\">{user.email}</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Show message to sign in if not authenticated */}\r\n      {(!user || !user.email) && (\r\n        <div className=\"mb-4 p-3 bg-red-50 rounded-lg flex items-center\">\r\n          <div className=\"text-red-700 mr-3\">\r\n            <FaTimes />\r\n          </div>\r\n          <div>\r\n            <p className=\"text-sm font-medium text-red-700\">You must be signed in to checkout</p>\r\n            <p className=\"text-sm text-red-600\">Please sign in to continue with your purchase</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      <form onSubmit={handleShippingInfoSubmit} className=\"space-y-4\">\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Full Name</label>\r\n          <motion.input\r\n            variants={formInputVariants}\r\n            whileFocus=\"focus\"\r\n            type=\"text\"\r\n            placeholder=\"John Doe\"\r\n            value={shippingInfo.fullName}\r\n            onChange={(e) => setShippingInfo({ ...shippingInfo, fullName: e.target.value })}\r\n            className=\"w-full p-3 border rounded-md focus:outline-none transition-all duration-200\"\r\n            required\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Phone Number</label>\r\n          <motion.input\r\n            variants={formInputVariants}\r\n            whileFocus=\"focus\"\r\n            type=\"tel\"\r\n            placeholder=\"9876543210\"\r\n            value={shippingInfo.phone}\r\n            onChange={(e) => setShippingInfo({ ...shippingInfo, phone: e.target.value })}\r\n            className=\"w-full p-3 border rounded-md focus:outline-none transition-all duration-200\"\r\n            required\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Address</label>\r\n          <motion.input\r\n            variants={formInputVariants}\r\n            whileFocus=\"focus\"\r\n            type=\"text\"\r\n            placeholder=\"123 Main St\"\r\n            value={shippingInfo.addressLine1}\r\n            onChange={(e) => setShippingInfo({ ...shippingInfo, addressLine1: e.target.value })}\r\n            className=\"w-full p-3 border rounded-md focus:outline-none transition-all duration-200\"\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">City</label>\r\n            <motion.input\r\n              variants={formInputVariants}\r\n              whileFocus=\"focus\"\r\n              type=\"text\"\r\n              placeholder=\"Mumbai\"\r\n              value={shippingInfo.city}\r\n              onChange={(e) => setShippingInfo({ ...shippingInfo, city: e.target.value })}\r\n              className=\"w-full p-3 border rounded-md focus:outline-none transition-all duration-200\"\r\n              required\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Postal Code</label>\r\n            <motion.input\r\n              variants={formInputVariants}\r\n              whileFocus=\"focus\"\r\n              type=\"text\"\r\n              placeholder=\"400001\"\r\n              value={shippingInfo.postalCode}\r\n              onChange={(e) => setShippingInfo({ ...shippingInfo, postalCode: e.target.value })}\r\n              className=\"w-full p-3 border rounded-md focus:outline-none transition-all duration-200\"\r\n              required\r\n            />\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Email field completely removed */}\r\n        \r\n        {isMobile && (\r\n          <motion.div className=\"mt-2\" initial={false} animate={{ height: showOrderSummary ? \"auto\" : \"40px\" }}>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setShowOrderSummary(!showOrderSummary)}\r\n              className=\"flex justify-between w-full py-2 font-semibold bg-gray-50 px-3 rounded-md\"\r\n            >\r\n              <span>Order Summary</span>\r\n              <span>â‚¹{totalPrice.toFixed(2)}</span>\r\n            </button>\r\n            {showOrderSummary && (\r\n              <div className=\"mt-2 p-3 bg-gray-50 rounded-md\">\r\n                {cart.map((item) => (\r\n                  <div key={item.id} className=\"flex justify-between py-1\">\r\n                    <span>\r\n                      {item.name} x {item.quantity}\r\n                    </span>\r\n                    <span>â‚¹{(item.price * item.quantity).toFixed(2)}</span>\r\n                  </div>\r\n                ))}\r\n                <div className=\"border-t mt-2 pt-2 font-semibold\">\r\n                  <div className=\"flex justify-between\">\r\n                    <span>Total</span>\r\n                    <span>â‚¹{totalPrice.toFixed(2)}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </motion.div>\r\n        )}\r\n        <div className=\"flex justify-between mt-6\">\r\n          <motion.button\r\n            variants={buttonTapVariants}\r\n            whileHover={{ scale: 1.05 }}\r\n            whileTap=\"tap\"\r\n            type=\"button\"\r\n            onClick={handleBackClick}\r\n            className=\"bg-gray-200 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-300 transition-colors duration-200 flex items-center space-x-2\"\r\n          >\r\n            <FaArrowLeft />\r\n            <span>Back</span>\r\n          </motion.button>\r\n          <motion.button\r\n            variants={buttonTapVariants}\r\n            whileHover={{ scale: 1.05 }}\r\n            whileTap=\"tap\"\r\n            type=\"submit\"\r\n            className={`${\r\n              (!user || !user.email) \r\n                ? \"bg-gray-400 cursor-not-allowed\" \r\n                : \"bg-blue-600 hover:bg-blue-700\"\r\n            } text-white px-6 py-2 rounded-lg transition-colors duration-200`}\r\n            disabled={!user || !user.email}\r\n          >\r\n            Continue to Delivery\r\n          </motion.button>\r\n        </div>\r\n      </form>\r\n    </motion.div>\r\n  );\r\n\r\n  const renderDeliveryOptions = () => (\r\n    <motion.div\r\n      initial={{ opacity: 0, height: 0 }}\r\n      animate={{ opacity: 1, height: \"auto\" }}\r\n      exit={{ opacity: 0, height: 0 }}\r\n      transition={{ duration: 0.3 }}\r\n      className=\"bg-white p-6 rounded-lg shadow-md mt-6\"\r\n    >\r\n      <h2 className=\"text-2xl font-bold mb-4 flex items-center space-x-2\">\r\n        <FaBoxOpen className=\"text-green-600\" /> <span>Delivery Options</span>\r\n      </h2>\r\n      <p className=\"text-gray-600 mb-4\">Select your preferred delivery method:</p>\r\n      <div className=\"mt-4 space-y-4\">\r\n        <motion.label\r\n          className={`flex items-center space-x-3 p-4 rounded-lg border-2 cursor-pointer ${\r\n            deliveryMethod === \"standard\" ? \"border-blue-500 bg-blue-50\" : \"border-gray-200\"\r\n          }`}\r\n          whileHover={{ backgroundColor: \"#f8fafc\" }}\r\n          whileTap={{ scale: 0.99 }}\r\n          onClick={() => setDeliveryMethod(\"standard\")}\r\n        >\r\n          <motion.div animate={deliveryMethod === \"standard\" ? \"checked\" : \"unchecked\"} variants={radioButtonVariants}>\r\n            <input\r\n              type=\"radio\"\r\n              name=\"delivery\"\r\n              className=\"form-radio text-blue-600 h-5 w-5\"\r\n              checked={deliveryMethod === \"standard\"}\r\n              onChange={() => setDeliveryMethod(\"standard\")}\r\n            />\r\n          </motion.div>\r\n          <div>\r\n            <span className=\"font-medium block\">Standard Delivery</span>\r\n            <span className=\"text-sm text-gray-500\">3-5 business days - Free</span>\r\n          </div>\r\n        </motion.label>\r\n        <motion.label\r\n          className={`flex items-center space-x-3 p-4 rounded-lg border-2 cursor-pointer ${\r\n            deliveryMethod === \"express\" ? \"border-blue-500 bg-blue-50\" : \"border-gray-200\"\r\n          }`}\r\n          whileHover={{ backgroundColor: \"#f8fafc\" }}\r\n          whileTap={{ scale: 0.99 }}\r\n          onClick={() => setDeliveryMethod(\"express\")}\r\n        >\r\n          <motion.div animate={deliveryMethod === \"express\" ? \"checked\" : \"unchecked\"} variants={radioButtonVariants}>\r\n            <input\r\n              type=\"radio\"\r\n              name=\"delivery\"\r\n              className=\"form-radio text-blue-600 h-5 w-5\"\r\n              checked={deliveryMethod === \"express\"}\r\n              onChange={() => setDeliveryMethod(\"express\")}\r\n            />\r\n          </motion.div>\r\n          <div>\r\n            <span className=\"font-medium block\">Express Delivery</span>\r\n            <span className=\"text-sm text-gray-500\">1-2 business days - â‚¹100.00</span>\r\n          </div>\r\n        </motion.label>\r\n        {isMobile && (\r\n          <motion.div className=\"mt-6\" initial={false} animate={{ height: showOrderSummary ? \"auto\" : \"40px\" }}>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setShowOrderSummary(!showOrderSummary)}\r\n              className=\"flex justify-between w-full py-2 font-semibold bg-gray-50 px-3 rounded-md\"\r\n            >\r\n              <span>Order Summary</span>\r\n              <span>â‚¹{totalPrice.toFixed(2)}</span>\r\n            </button>\r\n            {showOrderSummary && (\r\n              <div className=\"mt-2 p-3 bg-gray-50 rounded-md\">\r\n                {cart.map((item) => (\r\n                  <div key={item.id} className=\"flex justify-between py-1\">\r\n                    <span>\r\n                      {item.name} x {item.quantity}\r\n                    </span>\r\n                    <span>â‚¹{(item.price * item.quantity).toFixed(2)}</span>\r\n                  </div>\r\n                ))}\r\n                <div className=\"border-t mt-2 pt-2 font-semibold\">\r\n                  <div className=\"flex justify-between\">\r\n                    <span>Subtotal</span>\r\n                    <span>â‚¹{totalPrice.toFixed(2)}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <span>Delivery</span>\r\n                    <span>{deliveryMethod === \"express\" ? \"â‚¹100.00\" : \"Free\"}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between text-lg mt-1\">\r\n                    <span>Total</span>\r\n                    <span>â‚¹{(totalPrice + (deliveryMethod === \"express\" ? 100 : 0)).toFixed(2)}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </motion.div>\r\n        )}\r\n      </div>\r\n      <div className=\"flex justify-between mt-6\">\r\n        <motion.button\r\n          variants={buttonTapVariants}\r\n          whileHover={{ scale: 1.05 }}\r\n          whileTap=\"tap\"\r\n          onClick={handleBackClick}\r\n          className=\"bg-gray-200 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-300 transition-colors duration-200 flex items-center space-x-2\"\r\n        >\r\n          <FaArrowLeft />\r\n          <span>Back</span>\r\n        </motion.button>\r\n        <motion.button\r\n          variants={buttonTapVariants}\r\n          whileHover={{ scale: 1.05 }}\r\n          whileTap=\"tap\"\r\n          onClick={handleDeliverySelection}\r\n          className=\"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200\"\r\n        >\r\n          Continue to Payment\r\n        </motion.button>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n\r\n  const confettiColors = [\"#3B82F6\", \"#10B981\", \"#F59E0B\", \"#EF4444\", \"#8B5CF6\", \"#EC4899\"];\r\n  const renderConfetti = () => {\r\n    if (!showConfetti) return null;\r\n    return (\r\n      <div className=\"fixed inset-0 pointer-events-none z-50 overflow-hidden\">\r\n        {Array.from({ length: 100 }).map((_, i) => {\r\n          const color = confettiColors[i % confettiColors.length];\r\n          const left = `${Math.random() * 100}%`;\r\n          const size = Math.random() * 1 + 0.5;\r\n          const delay = Math.random() * 0.5;\r\n          return (\r\n            <motion.div\r\n              key={i}\r\n              initial=\"initial\"\r\n              animate=\"animate\"\r\n              variants={confettiAnimation}\r\n              style={{\r\n                position: \"absolute\",\r\n                top: \"-20px\",\r\n                left,\r\n                width: `${size}rem`,\r\n                height: `${size / 2}rem`,\r\n                backgroundColor: color,\r\n                borderRadius: \"2px\",\r\n                transition: { duration: Math.random() * 2.5 + 2.5, delay, ease: \"easeOut\" }\r\n              }}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const handleGenerateInvoice = () => {\r\n    setIsGeneratingPdf(true);\r\n    \r\n    setTimeout(() => {\r\n      try {\r\n        const doc = new jsPDF();\r\n        \r\n        // Define colors\r\n        const primaryColor = [59, 130, 246]; // Blue\r\n        const secondaryColor = [107, 114, 128]; // Gray\r\n        const lightGray = [229, 231, 235];\r\n        \r\n        // Header section with store info\r\n        doc.setFillColor(249, 250, 251); // Light background\r\n        doc.rect(0, 0, 210, 40, \"F\");\r\n        \r\n        // Store Name and Logo\r\n        doc.setFont(\"helvetica\", \"bold\");\r\n        doc.setFontSize(22);\r\n        doc.setTextColor(primaryColor[0], primaryColor[1], primaryColor[2]);\r\n        doc.text(\"KSP YARNS\", 105, 15, { align: \"center\" });\r\n        \r\n        // Store Address and Contact\r\n        doc.setFont(\"helvetica\", \"normal\");\r\n        doc.setFontSize(10);\r\n        doc.setTextColor(secondaryColor[0], secondaryColor[1], secondaryColor[2]);\r\n        doc.text(\"4-130 Gandhi Nagar, Karur Sukkaliyur\", 105, 23, { align: \"center\" });\r\n        doc.text(\"Tamil Nadu, India - 641006\", 105, 28, { align: \"center\" });\r\n        doc.text(\"Phone: +91 9994955782 | Email: kspyarnskarur@gmail.com\", 105, 33, { align: \"center\" });\r\n        \r\n        // INVOICE title\r\n        doc.setFont(\"helvetica\", \"bold\");\r\n        doc.setFontSize(18);\r\n        doc.setTextColor(primaryColor[0], primaryColor[1], primaryColor[2]);\r\n        doc.text(\"INVOICE\", 105, 50, { align: \"center\" });\r\n        \r\n        // Invoice details\r\n        doc.setFont(\"helvetica\", \"normal\");\r\n        doc.setFontSize(10);\r\n        doc.setTextColor(secondaryColor[0], secondaryColor[1], secondaryColor[2]);\r\n        \r\n        const today = new Date().toLocaleDateString();\r\n        doc.text(`Date: ${today}`, 20, 60);\r\n        doc.text(`Invoice #: ${savedOrder ? savedOrder.orderReference : orderReference}`, 20, 65);\r\n        doc.text(`Payment Method: ${paymentMethod === \"razorpay\" ? \"Online Payment\" : \"Cash on Delivery\"}`, 20, 70);\r\n        \r\n        // Customer info - Updated to use user.email directly\r\n        doc.setFont(\"helvetica\", \"bold\");\r\n        doc.setFontSize(12);\r\n        doc.text(\"Bill To:\", 140, 60);\r\n        \r\n        doc.setFont(\"helvetica\", \"normal\");\r\n        doc.setFontSize(10);\r\n        doc.text(`${shippingInfo.fullName}`, 140, 65);\r\n        doc.text(`${shippingInfo.addressLine1}`, 140, 70);\r\n        doc.text(`${shippingInfo.city}, ${shippingInfo.postalCode}`, 140, 75);\r\n        doc.text(`Email: ${user ? user.email : \"No email provided\"}`, 140, 80);\r\n        \r\n        // Horizontal line\r\n        doc.setDrawColor(lightGray[0], lightGray[1], lightGray[2]);\r\n        doc.setLineWidth(0.5);\r\n        doc.line(20, 85, 190, 85);\r\n        \r\n        // Order items table\r\n        doc.autoTable({\r\n          startY: 90,\r\n          head: [[\"Item\", \"Quantity\", \"Price\", \"Total\"]],\r\n          body: cart.map(item => [\r\n            item.name,\r\n            item.quantity.toString(),\r\n            `â‚¹${item.price.toFixed(2)}`,\r\n            `â‚¹${(item.price * item.quantity).toFixed(2)}`\r\n          ]),\r\n          theme: \"grid\",\r\n          headStyles: {\r\n            fillColor: [59, 130, 246],\r\n            textColor: [255, 255, 255],\r\n            fontStyle: \"bold\"\r\n          },\r\n          columnStyles: {\r\n            0: { cellWidth: 80 },\r\n            1: { cellWidth: 30, halign: \"center\" },\r\n            2: { cellWidth: 30, halign: \"right\" },\r\n            3: { cellWidth: 30, halign: \"right\" }\r\n          },\r\n          styles: {\r\n            font: \"helvetica\",\r\n            fontSize: 10\r\n          },\r\n          alternateRowStyles: {\r\n            fillColor: [249, 250, 251]\r\n          }\r\n        });\r\n        \r\n        // Get the Y position after the table\r\n        const finalY = doc.lastAutoTable.finalY + 10;\r\n        \r\n        // Summary section\r\n        doc.setDrawColor(lightGray[0], lightGray[1], lightGray[2]);\r\n        doc.setLineWidth(0.5);\r\n        \r\n        // Create a right-aligned summary\r\n        const summaryX = 120;\r\n        const summaryWidth = 70;\r\n        let currentY = finalY;\r\n        \r\n        // Add summary items\r\n        doc.setFont(\"helvetica\", \"normal\");\r\n        doc.text(\"Subtotal:\", summaryX, currentY);\r\n        doc.text(`â‚¹${totalPrice.toFixed(2)}`, summaryX + summaryWidth, currentY, { align: \"right\" });\r\n        currentY += 7;\r\n        \r\n        doc.text(\"Delivery:\", summaryX, currentY);\r\n        doc.text(deliveryMethod === \"express\" ? \"â‚¹100.00\" : \"Free\", summaryX + summaryWidth, currentY, { align: \"right\" });\r\n        currentY += 7;\r\n        \r\n        // Total with bold style\r\n        doc.setFont(\"helvetica\", \"bold\");\r\n        doc.setFontSize(12);\r\n        doc.text(\"Total:\", summaryX, currentY);\r\n        doc.text(`â‚¹${(totalPrice + (deliveryMethod === \"express\" ? 100 : 0)).toFixed(2)}`, summaryX + summaryWidth, currentY, { align: \"right\" });\r\n        \r\n        // Footer\r\n        const pageHeight = doc.internal.pageSize.height;\r\n        doc.setFont(\"helvetica\", \"italic\");\r\n        doc.setFontSize(10);\r\n        doc.setTextColor(secondaryColor[0], secondaryColor[1], secondaryColor[2]);\r\n        doc.text(\"Thank you for shopping with KSP Yarns!\", 105, pageHeight - 30, { align: \"center\" });\r\n        doc.text(\"We appreciate your business.\", 105, pageHeight - 25, { align: \"center\" });\r\n        \r\n        // Save the PDF\r\n        doc.save(`Invoice_${savedOrder ? savedOrder.orderReference : orderReference}.pdf`);\r\n      } catch (error) {\r\n        console.error(\"Error generating PDF:\", error);\r\n      } finally {\r\n        setIsGeneratingPdf(false);\r\n      }\r\n    }, 500);\r\n  };\r\n\r\n  // Update the confirmation section\r\n  const renderConfirmation = () => (\r\n    <motion.div\r\n      initial={{ opacity: 0, scale: 0.8 }}\r\n      animate={{ opacity: 1, scale: 1 }}\r\n      transition={{ type: \"spring\", stiffness: 100 }}\r\n      className=\"bg-white p-8 rounded-lg shadow-md mt-6 max-w-2xl mx-auto\"\r\n    >\r\n      {renderConfetti()}\r\n      <div className=\"text-center mb-8\">\r\n        <motion.div\r\n          initial={{ scale: 0 }}\r\n          animate={{ scale: [0, 1.2, 1], rotate: [0, 10, -10, 0] }}\r\n          transition={{ duration: 0.7 }}\r\n          className=\"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6\"\r\n        >\r\n          <FaCheckCircle className=\"text-green-600 text-5xl\" />\r\n        </motion.div>\r\n        <motion.h2\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 0.3 }}\r\n          className=\"text-3xl font-bold mb-2\"\r\n        >\r\n          Order Confirmed!\r\n        </motion.h2>\r\n        <motion.p\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          transition={{ delay: 0.5 }}\r\n          className=\"text-gray-600\"\r\n        >\r\n          Thank you for your purchase\r\n        </motion.p>\r\n        <motion.div\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          transition={{ delay: 0.7 }}\r\n          className=\"mt-3 text-lg\"\r\n        >\r\n          <p className=\"font-medium\">\r\n            Order Reference: <span className=\"font-bold bg-blue-50 px-2 py-1 rounded\">{savedOrder ? savedOrder.orderReference : orderReference}</span>\r\n          </p>\r\n          <p className=\"text-sm mt-2 text-gray-600\">\r\n            {paymentMethod === \"cod\"\r\n              ? `You will pay â‚¹${(totalPrice + (deliveryMethod === \"express\" ? 100 : 0)).toFixed(2)} when your order arrives.`\r\n              : \"Payment has been completed successfully.\"}\r\n          </p>\r\n        </motion.div>\r\n      </div>\r\n      \r\n      {/* Enhanced order details card */}\r\n      <motion.div\r\n        initial={{ opacity: 0, y: 20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ delay: 0.9 }}\r\n        className=\"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border border-blue-100 mb-6 relative overflow-hidden\"\r\n      >\r\n        <div className=\"absolute top-0 right-0 w-24 h-24 -mt-8 -mr-8 bg-blue-200 rounded-full opacity-20\"></div>\r\n        <h3 className=\"font-semibold text-lg mb-4 text-blue-800 flex items-center\">\r\n          <FileText className=\"mr-2\" /> Order Details\r\n        </h3>\r\n        \r\n        <div className=\"space-y-4\">\r\n          {/* Items summary with improved layout */}\r\n          <div className=\"bg-white p-4 rounded-md shadow-sm\">\r\n            <h4 className=\"text-sm uppercase text-gray-500 mb-2\">Items</h4>\r\n            <div className=\"max-h-40 overflow-y-auto pr-2\">\r\n              {cart.map((item) => (\r\n                <div key={item.id} className=\"flex items-center justify-between py-2 border-b border-gray-100 last:border-0\">\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    {item.image && (\r\n                      <img src={item.image} alt={item.name} className=\"h-10 w-10 rounded object-cover\" />\r\n                    )}\r\n                    <div>\r\n                      <p className=\"font-medium\">{item.name}</p>\r\n                      <p className=\"text-xs text-gray-500\">â‚¹{item.price.toFixed(2)} Ã— {item.quantity}</p>\r\n                    </div>\r\n                  </div>\r\n                  <span className=\"font-semibold\">â‚¹{(item.price * item.quantity).toFixed(2)}</span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Delivery info - Updated to use user.email directly */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div className=\"bg-white p-4 rounded-md shadow-sm\">\r\n              <h4 className=\"text-sm uppercase text-gray-500 mb-2\">Shipping Address</h4>\r\n              <p className=\"font-medium\">{shippingInfo.fullName}</p>\r\n              <p className=\"text-sm text-gray-600\">{shippingInfo.addressLine1}</p>\r\n              <p className=\"text-sm text-gray-600\">{shippingInfo.city}, {shippingInfo.postalCode}</p>\r\n              <p className=\"text-sm text-gray-600 mt-1\">{user ? user.email : \"No email provided\"}</p>\r\n            </div>\r\n            \r\n            <div className=\"bg-white p-4 rounded-md shadow-sm\">\r\n              <h4 className=\"text-sm uppercase text-gray-500 mb-2\">Delivery Method</h4>\r\n              <p className=\"flex items-center font-medium\">\r\n                <FaTruck className=\"mr-2 text-blue-500\" />\r\n                {deliveryMethod === \"express\" ? \"Express Delivery (1-2 days)\" : \"Standard Delivery (3-5 days)\"}\r\n              </p>\r\n              <p className=\"text-sm text-gray-600 mt-1\">\r\n                {deliveryMethod === \"express\" ? \"Priority shipping with tracking\" : \"Free shipping with tracking\"}\r\n              </p>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Payment summary */}\r\n          <div className=\"bg-white p-4 rounded-md shadow-sm\">\r\n            <h4 className=\"text-sm uppercase text-gray-500 mb-2\">Payment Summary</h4>\r\n            <div className=\"space-y-1\">\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-gray-600\">Subtotal</span>\r\n                <span>â‚¹{totalPrice.toFixed(2)}</span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-gray-600\">Delivery</span>\r\n                <span className={deliveryMethod === \"standard\" ? \"text-green-600\" : \"\"}>\r\n                  {deliveryMethod === \"express\" ? \"â‚¹100.00\" : \"Free\"}\r\n                </span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-gray-600\">Payment Method</span>\r\n                <span className=\"flex items-center\">\r\n                  {paymentMethod === \"razorpay\" ? (\r\n                    <>\r\n                      <FaCreditCard className=\"mr-1 text-blue-500\" /> Online Payment\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <FaMoneyBillWave className=\"mr-1 text-green-500\" /> Cash on Delivery\r\n                    </>\r\n                  )}\r\n                </span>\r\n              </div>\r\n              <div className=\"flex justify-between font-bold text-lg mt-2 pt-2 border-t border-gray-200\">\r\n                <span>Total</span>\r\n                <span className=\"text-blue-600\">â‚¹{(totalPrice + (deliveryMethod === \"express\" ? 100 : 0)).toFixed(2)}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </motion.div>\r\n      \r\n      {orderProcessingError && (\r\n        <motion.div\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          className=\"bg-yellow-50 border border-yellow-200 text-yellow-800 p-4 rounded-md mb-6\"\r\n        >\r\n          <h3 className=\"font-semibold mb-1\">Important Note:</h3>\r\n          <p>{orderProcessingError}</p>\r\n        </motion.div>\r\n      )}\r\n      \r\n      <motion.div\r\n        initial={{ opacity: 0, y: 20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ delay: 1.1 }}\r\n        className=\"flex flex-col sm:flex-row justify-center gap-4 mt-6\"\r\n      >\r\n        <motion.button\r\n          whileHover={{ scale: 1.05 }}\r\n          whileTap={{ scale: 0.95 }}\r\n          onClick={handleGenerateInvoice}\r\n          disabled={isGeneratingPdf}\r\n          className={`${\r\n            isGeneratingPdf ? \"bg-gray-400\" : \"bg-blue-600 hover:bg-blue-700\"\r\n          } text-white px-6 py-3 rounded-lg transition-colors duration-200 flex items-center justify-center`}\r\n        >\r\n          {isGeneratingPdf ? (\r\n            <>\r\n              <FaSpinner className=\"animate-spin mr-2\" />\r\n              Generating Invoice...\r\n            </>\r\n          ) : (\r\n            <>\r\n              <FaDownload className=\"mr-2\" />\r\n              Download Invoice\r\n            </>\r\n          )}\r\n        </motion.button>\r\n        \r\n        <Link to=\"/products\">\r\n          <motion.button\r\n            whileHover={{ scale: 1.05 }}\r\n            whileTap={{ scale: 0.95 }}\r\n            className=\"bg-gray-100 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-200 transition-colors duration-200 flex items-center justify-center\"\r\n          >\r\n            <FaArrowLeft className=\"mr-2\" />\r\n            Continue Shopping\r\n          </motion.button>\r\n        </Link>\r\n      </motion.div>\r\n      \r\n      {/* Delivery estimate section */}\r\n      <motion.div\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n        transition={{ delay: 1.3 }}\r\n        className=\"mt-8 text-center\"\r\n      >\r\n        <p className=\"text-sm text-gray-500\">\r\n          Estimated delivery: {\r\n            deliveryMethod === \"express\" \r\n              ? new Date(Date.now() + 2 * 24 * 60 * 60 * 1000).toLocaleDateString()\r\n              : new Date(Date.now() + 5 * 24 * 60 * 60 * 1000).toLocaleDateString()\r\n          }\r\n        </p>\r\n        <p className=\"text-xs text-gray-400 mt-1\">\r\n          You will receive an email with your order details and tracking information.\r\n        </p>\r\n      </motion.div>\r\n    </motion.div>\r\n  );\r\n\r\n  const renderCheckoutProgress = () => (\r\n    <div className=\"mb-12\">\r\n      <div className=\"flex justify-between relative\">\r\n        {steps.map((stepName, index) => {\r\n          const isCompleted = index < currentStepIndex;\r\n          const isCurrent = index === currentStepIndex;\r\n          let status = isCompleted ? \"completed\" : isCurrent ? \"active\" : \"inactive\";\r\n          const getIcon = () => {\r\n            switch (stepName) {\r\n              case \"cart\":\r\n                return <FaShoppingCart />;\r\n              case \"shipping\":\r\n                return <FaTruck />;\r\n              case \"delivery\":\r\n                return <FaBoxOpen />;\r\n              case \"payment\":\r\n                return <FaCreditCard />;\r\n              case \"confirmation\":\r\n                return <FaCheckCircle />;\r\n              default:\r\n                return null;\r\n            }\r\n          };\r\n          return (\r\n            <div key={stepName} className=\"flex flex-col items-center relative z-10\">\r\n              <motion.div\r\n                initial=\"inactive\"\r\n                animate={status}\r\n                variants={stepIndicatorVariant}\r\n                className={`w-12 h-12 rounded-full flex items-center justify-center mb-2 ${\r\n                  status === \"completed\"\r\n                    ? \"bg-blue-600 text-white\"\r\n                    : status === \"active\"\r\n                    ? \"bg-white text-blue-600 border-2 border-blue-600\"\r\n                    : \"bg-gray-100 text-gray-500 border-2 border-gray-300\"\r\n                }`}\r\n              >\r\n                {getIcon()}\r\n              </motion.div>\r\n              <span\r\n                className={`text-sm font-medium ${\r\n                  status === \"completed\" || status === \"active\" ? \"text-blue-600\" : \"text-gray-500\"\r\n                }`}\r\n              >\r\n                {stepName.charAt(0).toUpperCase() + stepName.slice(1)}\r\n              </span>\r\n            </div>\r\n          );\r\n        })}\r\n        <div className=\"absolute h-1 bg-gray-200 top-6 left-0 right-0 z-0\" style={{ width: \"100%\", transform: \"translateY(-50%)\" }}>\r\n          <motion.div variants={progressBarVariant} initial=\"initial\" animate=\"animate\" className=\"h-full bg-blue-600 rounded\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <motion.div className=\"container mx-auto px-4 py-8 min-h-[60vh]\" initial=\"initial\" animate=\"animate\" exit=\"exit\" variants={pageTransition}>\r\n      <motion.div className=\"mb-8\" variants={fadeInScale}>\r\n        {renderCheckoutProgress()}\r\n      </motion.div>\r\n      <AnimatePresence mode=\"wait\">\r\n        {step === \"cart\" && (\r\n          <motion.div variants={staggerContainer} initial=\"initial\" animate=\"animate\" exit=\"exit\" className=\"bg-white p-6 rounded-lg shadow-md\">\r\n            {renderCartItems()}\r\n          </motion.div>\r\n        )}\r\n        {step === \"shipping\" && renderShippingForm()}\r\n        {step === \"delivery\" && renderDeliveryOptions()}\r\n        \r\n        {/* Pass cart items with productId to Payment */}\r\n        {step === \"payment\" && (\r\n          <Payment\r\n            cart={cart.map(item => ({\r\n              ...item,\r\n              productId: item.id // Ensure productId is included\r\n            }))}\r\n            shippingInfo={shippingInfo}\r\n            deliveryMethod={deliveryMethod}\r\n            user={user}\r\n            totalPrice={totalPrice}\r\n            handleBackClick={handleBackClick}\r\n            onSuccessfulPayment={handleSuccessfulPayment}\r\n          />\r\n        )}\r\n        \r\n        {step === \"confirmation\" && renderConfirmation()}\r\n      </AnimatePresence>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default CartPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}